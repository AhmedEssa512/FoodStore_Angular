<div class="container my-5 py-4 bg-light rounded shadow-sm min-vh-100">
  <h3 class="mb-4 text-center fw-bold text-dark">Your Recent Orders</h3>

  <div *ngIf="orders?.length; else noOrders">
    <div class="list-group">
      <div
        *ngFor="let order of orders"
        class="card mb-4 p-3 shadow-sm bg-white order-card"
      >
        <div class="d-flex flex-column flex-md-row gap-3 align-items-start">
          <!-- Image + Info Container -->
          <figure class="itemside align-items-center flex-grow-1 m-0">
            <!-- Order Info -->
            <figcaption class="info ms-3">
              <h5 class="fw-semibold text-secondary mb-1">Order #{{ order.id }}</h5>
              <p class="mb-1 text-muted">{{ order.fullName }}</p>
              <small class="text-muted">{{ order.createdAt | date: 'medium' }}</small>
            </figcaption>
          </figure>

          <!-- Status Badge + Total -->
          <div class="ms-md-auto text-end">
            <span
              class="badge status-badge mb-2"
              [ngClass]="{
                'pending': order.status === 'Pending',
                'confirmed': order.status === 'Preparing',
                'delivering': order.status === 'Delivered',
                'completed': order.status === 'Failed',
                'cancelled': order.status === 'Cancelled'
              }"
            >
              {{ order.status }}
            </span>

            <div class="fs-5 fw-bold text-success">
              ${{ order.total.toFixed(2) }}
            </div>

             <div class="mt-3">
              <button class="btn btn-outline-primary btn-sm w-100 w-md-auto" (click)="viewOrderDetails(order.id)">
                <i class="bi bi-eye me-1"></i> Details
              </button>
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>

  <!-- No Orders Template -->
  <ng-template #noOrders>
    <div class="text-center py-5 text-muted">
      <i class="bi bi-basket fs-1 mb-3"></i>
      <p class="fs-5">You haven't placed any orders yet.</p>
      <button class="btn btn-primary btn-lg" (click)="goToShop()">Start Shopping</button>
    </div>
  </ng-template>
</div>


